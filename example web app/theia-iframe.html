<HTML>

<HEAD>
    <script src="jquery-3.4.1.min.js"></script>
    <TITLE>Your Title Here</TITLE>

    <style>
        .row-container {
            display: flex;
            width: 100%;
            height: 100%;
            flex-direction: column;
            overflow: hidden;
        }

        .second-row {
            flex-grow: 1;
            border: none;
            margin: 0;
            padding: 0;
        }
    </style>

</HEAD>

<BODY>
    <H1>This is a Header, choose your filepath</H1>

    <a href="#" id="sw1">Sample Workspace 1</a><br />
    <a href="#" id="sw2">Sample Workspace 2</a><br />
    <a href="#" id="cw">Check workspace by clicking here</a> <br />
    <button id="sendButton" onclick="postTheMessage()">Send workspace uri to theia iframe</button>

    <div class="row-container">
        <iframe src="http://localhost:3000/" id="theia" class="second-row"></iframe>
    </div>

    <script>
        // var fileURI = '';
        // function init() {
        //     var sw1_element = document.getElementById('sw1');
        //     sw1_element.onclick = function () {
        //         fileURI = 'file:///home/nicholas/Documents/theia-switch-workspace/sample-workspace-1/';
        //         return false;
        //     }

        //     var sw2_element = document.getElementById('sw2');
        //     sw2_element.onclick = function () {
        //         fileURI = 'file:///home/nicholas/Documents/theia-switch-workspace/sample-workspace-2/';
        //         return false;
        //     }

        //     var cw_element = document.getElementById('cw');
        //     cw_element.onclick = function () {
        //         alert(fileURI);
        //         return false;
        //     }
        // }

        // window.onload = init;

        // $(document).ready(function () {
        //     $('theia').load(function () {
        //         var fileURI = 'file:///home/nicholas/Documents/theia-switch-workspace/sample-workspace-1/';
        //         var theia_iframe = document.getElementById('theia').contentWindow;
        //         theia_iframe.postMessage(fileURI, "*")
        //         // write your code here....
        //     }
        // }
        // function postTheMessage() {
        //     var fileURI = 'file:///home/nicholas/Documents/theia-switch-workspace/sample-workspace-1/';
        //     var myIframe = document.getElementById('theia');
        //     myIframe.addEventListener("load", function () {
        //         this.contentWindow.postTheMessage(fileURI, "*");
        //     }
        // }

        // windows.onload = postTheMessage;

        function postTheMessage() {
                    var fileURI = 'file:///home/nicholas/Documents/theia-switch-workspace/sample-workspace-1/';
                    var theia_iframe = document.getElementById('theia').contentWindow;
                    theia_iframe.postMessage(fileURI, "*")
                    // alert(fileURI);
                }

        function myFunction(){
            setTimeout(postTheMessage, 5000);
        }

        window.onload = myFunction;

    </script>
</BODY>